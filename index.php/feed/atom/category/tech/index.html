<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"
xmlns:thr="http://purl.org/syndication/thread/1.0"
xml:lang="zh-CN"
xml:base="https://www.horsebro1.com/index.php/category/tech/"
>
<title type="text">骑木马的哥哥博客 - 技术</title>
<subtitle type="text"></subtitle>
<updated>2019-08-18T09:57:00+00:00</updated>
<generator uri="http://typecho.org/" version="1.1/17.10.30">Typecho</generator>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/category/tech/" />
<id>https://www.horsebro1.com/index.php/feed/atom/category/tech/</id>
<link rel="self" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/category/tech/" />
<entry>
<title type="html"><![CDATA[聊聊网警是如何抓到你的]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/65/" />
<id>https://www.horsebro1.com/index.php/archives/65/</id>
<updated>2019-08-18T09:57:00+00:00</updated>
<published>2019-08-18T09:57:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[这段时间一直在准备面试，趁晚上有空，和大家聊聊网警查水表的那些事。前段时间有朋友找我玩，中途聊到智能电表攻击案，攻击者通过穷举破解了智能电表管理后台的密码，并关闭了九百多台智能电表，导致九百多户...]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/65/" xml:lang="zh-CN"><![CDATA[
<p>这段时间一直在准备面试，趁晚上有空，和大家聊聊网警查水表的那些事。</p><p>前段时间有朋友找我玩，中途聊到智能电表攻击案，攻击者通过穷举破解了智能电表管理后台的密码，并关闭了九百多台智能电表，导致九百多户人集体停电，最后被警方查水表判刑了。</p><p>作为案发当事人的朋友，听闻朋友进局子，我感到很震惊，也很惋惜。</p><p>其实，我们是可以用技术力量四两拨千斤的。</p><!--more--><p>现实中，如果想对抗国家机器，我们需要枪支弹药，炮弹，装甲车，坦克，甚至是导弹和原子弹。</p><p>但在互联网的汪洋中，我们完全可以消失在茫茫网海中，做到事了拂衣去，深藏功与名。</p><p>电视报道的很多网络攻击案，犯罪分子被抓，大快人心。其实很多人都不会保护自己。</p><p>真正懂的人，都在做黑产，闷声发大财。</p><p>网警溯源最根本的问题在于调查取证，并将网络证据与现实中的攻击者对应起来。</p><p>先说下调查。</p><p>网警在调查的时候，会第一时间奔赴现场，就跟刑事犯罪一样。第一件事是要收集现场证据。</p><p>刑事犯罪就是拿着相机各种拍，搜集现场的血液，毛发，指纹等。而网络犯罪，则是收集日志，病毒样本等。</p><p>如果顺利的话，对于没有保护意识的人，在这一步就留下证据了，这个证据就是IP地址。</p><p>要实施抓捕，必须要知道攻击者的地理位置。这些信息都是由IP地址提供的。</p><p>对于普通人，根据一个特定的IP，可能只能查到区和县。而对于拥有执法权的网警，他们能够查到具体的门牌号。</p><p>因为你在接入宽带的时候，在运营商那里会有登记。</p><p>这一步，如果顺利的话，警察会破门而入，缴获你的电脑，对你的电脑进行取证。一旦你没有保护措施，被收集到犯罪证据，就免不了牢狱之灾。这里的证据包括你使用过的攻击软件，浏览器的攻击记录，你从受害者服务器上窃取的文件等。</p><p>有人会说，我用代理啊，用了代理网警就查不到我的真实IP了。</p><p>这是大部分人都会想到的办法。</p><p>其实，这么做的确能够给网警的溯源带来难度，但并不是一个好的解决方案。因为日志存在于代理服务器上。</p><p>这里要分两种情况，境内代理和境外代理。</p><p>由于警方拥有执法权，法律规定任何人都有义务配合警方调查，因此如果代理是在国内，基本上和没有一样。</p><p>如果是在境外，就安全了吗？答案是未必。</p><p>第一种可能是代理服务器的拥有者可能会配合警方调查，第二种可能是代理服务器可能会遭受到攻击，如果警方攻破了代理服务器，后果不堪设想。</p><p>一个好的办法是：保证使用的代理服务器必须是可控的，你可以使用比特币购买境外的云主机，自己架设一个代理，当完事后手动擦除日志。擦除日志后再释放掉该云主机。</p><p>这里需要区分删除和擦除的区别，直接删除的数据是可恢复的，而擦除的话，恢复的难度会大很多。关于擦除，可以使用符合美国国防部DOD 5220.22-m标准的擦除程序。</p><p>说到这里，大家也许会问，这样做我就安全了吗？答案是否定的。</p><p>其实安全，并不是单一的某个部分，而是一个整体。上面的做法，只是从网络层面做了一些防范。</p><p>且不说其他方面，即使是网络层面，这么做也是不严谨的。不严谨就意味着有风险，有风险就意味着你会进局子。</p><p>下面我们来聊一聊协议。</p><p>常见的代理协议有HTTP,SOCKS。虚拟专用网（VPN）协议有：PPTP，L2TP,IPSec,OpenVPN等。</p><p>上面提到的协议中，代理协议不推荐使用，因为加密强度太低，这些协议设计的初衷是用来突破网络封锁，而不是用来保密的。这些协议是可以被解密的，一旦网警解密了你的网络流量，你在网络中的所有活动都会成为法庭上的证据。</p><p>VPN协议中的PPTP也不建议使用，虽然这个协议设计是用来保密的，但随着计算机运算能力的发展，也许在计算机网络发展初期，当时的计算机运算能力还不是很强，这个协议是安全的。但现在有集群，有超级计算机，这个协议加密的强度在现代计算机强大的运算能力下变得不那么安全了。</p><p>不推荐使用代理协议，还有个重要的原因是代理协议需要自己在软件中手动配置。如果你需要运行浏览器和聊天工具，这意味着你需要配置两次，在浏览器中配置一次，聊天工具中配置一次。还有个缺点是并不是所有软件都支持配置代理的。</p><p>而VPN，是系统原生支持的。可以把它看作是全局代理。即你只需要连接VPN，所有运行在该操作系统上的软件流量都会走VPN。</p><p>你也许会问：我保证了代理的加密强度以及代理服务器不被警方入侵，我就安全了吗？答案依旧是否定的。</p><p>这里你需要考虑到一种情况：在入侵的过程中，VPN掉线了！这种情况的发生是致命的，你正在进行敏感操作，突然VPN掉线了，系统自动用真实IP重新进行了连接。</p><p>要解决这个问题，你可以考虑使用虚拟机隔离。新建一台虚拟机，网络设置为HOST-ONLY，所有敏感操作均在虚拟机中完成。这时虚拟机只能和宿主机进行通信，是无法直接访问外网的。将代理软件运行在宿主机上，虚拟机连接宿主机上的代理软件。这样就能让虚拟机的流量强制走代理。</p><p>这么做还有个好处，即使是机器中了木马，木马也不能联网，即使是木马记录了你的IP，再高级的木马，它也无法传出到公网中。</p><p>提到木马，大家可以了解下有关部门开发的黑暗幽灵木马，连接在<a href="https://program-think.blogspot.com/2016/08/Trojan-Horse-DCM.html">这里(需爬墙)</a>。</p><p>即使是中了这种木马，也不用担心。第一木马无法和外界通信，第二虚拟机还有快照可以还原。</p><p>代理使用了高强度的加密协议是依旧不安全的。因为0day的存在，你无法保证代理服务器不被入侵。</p><p>其实比较稳妥的方法是：所有网络流量都经过三个以上的服务器，流量是高强度加密的，且这三个服务器最好是随机的，过一段时间会变换。</p><p>要实现上述稳妥的方法，大家可以考虑使用Tor，它的官网在：<a href="https://www.torproject.org/">这里(需爬墙)</a></p><p>至此，虚拟机隔离配合Tor，你能做到：强制所有流量都走代理，不会因为断网或操作失误而暴露真实IP，也不会因为漏洞和木马暴露真实IP。另外，还能做到所有流量都经过三个以上的服务器，流量经过的服务器是随机的，这些服务器每隔一段时间会随机进行变化，所有流量都是强加密的，</p><p>有兴趣的朋友可能会问：Tor是绝对安全吗？答案是否定的，因为这个世界上没有绝对安全的系统，Tor也会有漏洞。</p><p>FBI为了抓捕隐藏在Tor背后的攻击者，利用了Tor的漏洞。这漏洞是：即使是Tor，在访问了有漏洞的网页后，会向指定地址回传真实IP。</p><p>现在可以思考下，如果是在虚拟机隔离的环境中，由于所有流量都强制走的Tor，这种漏洞就无效啦。</p><p>所以，虚拟机隔离和Tor，需要搭配使用，效果才最佳。</p><p>说了这个多，网络层面就差不多说完了。下面说说软件层面。</p><p>软件的话，尽量不要使用国产软件。因为国产软件会收集你的隐私，具有代表性的就是QQ，微信，360，还有国产浏览器，国产输入法等等。</p><p>不光是国产软件不尊重用户隐私，还有个原因是对于国内的一切公司，网警都有执法权。国产浏览器可能会在云端同步你的浏览记录，国产输入法大都有个云联想功能，这意味着你输入的内容会被上传至云端。国产聊天工具就不用说了，网警是能够拿到聊天记录的。国产杀毒软件就更加危险了，它可能会将任何一个文件上传至云端进行分析。</p><p>在网络层面的防护做得再好，如果国产软件导致你的个人信息泄露，所有的一切都会前功尽弃。</p><p>试想一个场景，你在网络层面的防范做得很好，网警拿到IP，对你没办法。但网警联系腾讯公司进行配合，发现该IP登陆过QQ，于是该IP就和你的QQ关联起来了。通过查询QQ的注册手机号和实名认证，于是你就暴露了。</p><p>那么，我们该怎么办呢？答案是使用Linux，禁止使用一切国内的软件，且所有软件都使用开源的。</p><p>这里提到了操作系统，顺便聊聊操作系统层面的防范。</p><p>大家应该都还记得陈冠希吧。陈冠希同志因为没有对敏感数据做防范，电脑送修之前也没有对敏感数据进行处理，导致了我们广大网友有福利看，也搞臭了一堆女明星。</p><p>操作系统层面，你会怎样被暴露呢？</p><p>某天，你的电脑丢失了，或者是被偷了，或者是被他人使用了，或者是被警察叔叔搜查，他人和警察叔叔打开你的电脑，通过登录名，浏览记录，浏览器记住的密码，发现原来你就是那个大黑阔，于是你就被暴露了。</p><p>其实，我们应该使用加密手段来保护自己。重要和敏感的数据加密，设置一个足够强壮的密码。</p><p>这里的加密也是有讲究的，不要随便从网络搜索加密软件来使用。第一，你无法保证加密强度，第二你无法保证加密软件是否有后门。某些加密软件的加密强度不够，甚至是将你的文件移动至回收站目录，并设置隐藏属性。你应当使用业界公认且安全的加密软件。例如VeraCrypt，BitLocker等。</p><p>推荐使用VeraCrypt，为什么呢？因为这个东西是跨平台的，而BitLocker只能在Windows上使用。还有个好处是VeraCrypt支持Keyfile。</p><p>什么是Keyfile呢？Keyfile就是当你在解密的时候，除了输入密码，还必须提供一个文件用于解密。这个Keyfile有什么好处呢？</p><p>当警察破门而入，欲收缴你的电脑。你可能只有数十秒钟的时间用于销毁敏感数据。不要以为数据加密了，警察即使是收缴了你的电脑，他们也看不到，找不出来证据。你要知道你可能会被刑讯逼供。这个时候，如果你擦除Keyfile，就连神仙也无法解密。因为解密必须要密码和Keyfile两个东西，这两个东西缺一不可。当Keyfile被擦除，就连你本人也无法解密，因此刑讯逼供也无效啦。</p><p>文章写到这里，从技术层面上要做的事情都差不多了。但有一点依旧不能忘记，那就是社会工程学。</p><p>大家也许听说过钓鱼执法。一个白帽子攻击了世纪佳缘，世纪佳缘以感谢和送礼物为由，拿到了白帽子的姓名和收货地址，于是报案了。很自然的，白帽子被抓判刑了。</p><p>这里先不探讨黑客的道德问题，这是一个典型的钓鱼案例。</p><p>在执法的过程中，网警也会采用钓鱼的手段。</p><p>还有一个案例是追捕一个勒索病毒的作者。勒索病毒什么都没有留下，只留下了支付赎金的比特币地址，和一个联系邮箱。</p><p>警方冒充买家联系作者，提出以丰厚的价格购买该勒索病毒，并希望作者提供现场示范。</p><p>作者没有意识到该买家是警方冒充的，于是提出邮箱聊天不方便，于是给了警方QQ。</p><p>警方从腾讯公司拿到登陆QQ的IP和实名注册信息，当场对作者实施了抓捕。</p><p>这里，这位勒索病毒的作者犯了两个错，一是没有意识到国产软件的危险性，二是没有意识到社会工程学的危害。</p><p>暗网中最大的毒品交易网站丝绸之路站长也是因为社会工程学被抓的。因为他使用自己的ID发布了招聘信息，留下了他真实的联系方式。</p><p>关于社会工程学方面，我们要怎么防范呢？</p><p>一是在网络犯罪现场，不要留下任何个人信息。即使是要留个信息装逼，也要尽可能地少。并且留下的信息不能是自己常用的ID和网名，要注意不能让警方从留下的信息中查到你的真实身份和其他网络身份。</p><p>推荐使用Protonmail邮箱或者是Gmail。建议使用Tor新注册一个账号，用户名使用随机数和随机字母，以后访问该邮箱均使用Tor去访问。</p><p>二是在你新注册的邮箱中，不要轻易相信任何人提出见面，索要其他联系方式等要求。要做到所有的通信，都只通过邮箱来完成，且操作该邮箱必须严格使用Tor。</p><p>写在最后：最好是不要使用手机，平板等移动设备进行敏感操作，例如登陆你在犯罪现场留下的邮箱。因为手机有太多不可控的因素，不光是各类APP乱要权限，还有就是手机的安全性也是一个大大的问号。</p><p>最后还是用一句话总结：天网恢恢，疏而不漏。莫伸手，伸手必被抓~</p>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/65/#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/65/" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[Git常用命令]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/53/" />
<id>https://www.horsebro1.com/index.php/archives/53/</id>
<updated>2019-04-21T08:58:00+00:00</updated>
<published>2019-04-21T08:58:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[查看git配置信息git -l]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/53/" xml:lang="zh-CN"><![CDATA[
<h4>查看git配置信息</h4><pre><code>git -l</code></pre><!--more--><h4>配置当前仓库下提交者的用户名和邮箱</h4><pre><code>git config user.name &quot;提交者的名称&quot;
git config user.email &quot;邮箱&quot;</code></pre><h4>配置全局提交者的用户名和邮箱</h4><pre><code>git config --global user.name &quot;用户名&quot;
git config --global user.email &quot;邮箱&quot;</code></pre><h4>克隆远程仓库</h4><pre><code>git clone &lt;地址&gt;</code></pre><h4>查看工作区状态</h4><pre><code>git status</code></pre><h4>添加文件到暂存区</h4><pre><code>git add &lt;文件名&gt;</code></pre><h4>提交文件到本地分支</h4><pre><code>git commit -m &lt;&quot;注释&quot;&gt; &lt;文件名称&gt;</code></pre><h4>将本地分支推送到远程分支</h4><pre><code>git push</code></pre><h4>将远程仓库的代码拉取到本地仓库</h4><pre><code>git pull</code></pre><h4>查看提交日志</h4><pre><code>git log 或 git log --pretty=oneline</code></pre><h4>回退代码</h4><pre><code>git reset --hard &lt;记录id，可通过日志查看&gt;</code></pre><h4>撤销回退</h4><pre><code>git reflog
git reset --hard &lt;记录id，通过上述命令查看&gt;</code></pre><h4>撤销修改</h4><pre><code>git checkout -- &lt;文件名&gt;</code></pre><h4>撤销添加文件到暂存区</h4><pre><code>git reset HEAD -- &lt;文件名&gt;</code></pre><h4>查看当前分支</h4><pre><code>git branch</code></pre><h4>创建分支</h4><pre><code>git branch &lt;分支名称&gt;</code></pre><h4>切换分支</h4><pre><code>git checkout &lt;分支名称&gt;</code></pre><h4>创建且切换分支</h4><pre><code>git checkout -b &lt;分支名称&gt;</code></pre><h4>将分支下的内容提交到远程仓库</h4><pre><code>git push origin &lt;分支名称&gt;</code></pre><h4>拉取远程分支到本地分支</h4><pre><code>git pull origin &lt;分支名称&gt;</code></pre><h4>将指定分支与当前分支合并</h4><pre><code>git merge &lt;分支名称&gt;</code></pre>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/53/#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/53/" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[Ubuntu Server开启Google BBR]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/48/" />
<id>https://www.horsebro1.com/index.php/archives/48/</id>
<updated>2018-11-11T12:15:00+00:00</updated>
<published>2018-11-11T12:15:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[1.首先确认系统内核大于4.9，使用如下命令查看：uname -r如果系统内核小于4.9，说明该系统内核不支持Google BBR]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/48/" xml:lang="zh-CN"><![CDATA[
<h3>1.首先确认系统内核大于4.9，使用如下命令查看：</h3><pre><code>uname -r</code></pre><blockquote><p>如果系统内核小于4.9，说明该系统内核不支持Google BBR</p></blockquote><!--more--><h3>2.在/etc/sysctl.conf文件的末尾追加如下内容：</h3><pre><code>net.core.default_qdisc=fq
net.ipv4.tcp_congestion_control=bbr</code></pre><h3>3.运行如下命令使设置生效：</h3><pre><code>sysctl -p</code></pre><h3>4.查看设置是否生效，运行如下命令：</h3><pre><code>sysctl net.ipv4.tcp_available_congestion_control</code></pre><p>如果返回结果为如下，说明设置生效：</p><pre><code>net.ipv4.tcp_available_congestion_control = reno cubic bbr</code></pre><h3>5.确认Google BBR已启动，运行如下命令：</h3><pre><code>lsmod | grep bbr</code></pre><p>如果结果返回如下，说明已启动：</p><pre><code>tcp_bbr                20480  2</code></pre><blockquote><p>不同的发行版，不同的系统内核可能会返回不同的数值。如果返回结果为空，说明失败。</p></blockquote>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/48/#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/48/" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[计协技术部培训课程-电脑常见故障处理]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/47/" />
<id>https://www.horsebro1.com/index.php/archives/47/</id>
<updated>2018-11-11T05:07:00+00:00</updated>
<published>2018-11-11T05:07:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[今天整理markdown笔记的时候发现的这篇文章，2015年10月17号所写。算是挖坟吧。觉得还有点用，可以保留下来，所以保存到博客上备份。本次课程内容有时候，电脑出现一些小问题，自己却没办法处...]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/47/" xml:lang="zh-CN"><![CDATA[
<p>今天整理markdown笔记的时候发现的这篇文章，2015年10月17号所写。算是挖坟吧。觉得还有点用，可以保留下来，所以保存到博客上备份。</p><h2>本次课程内容</h2><p>有时候，电脑出现一些小问题，自己却没办法处理。求助高手，又担心对方不方便。作为计协的一员，我们不妨掌握一些电脑常见故障的处理方法。这样，如果大家将来遇到电脑故障，不但能帮助自己，还能帮助他人。技术，在每个人面前都是平等的，任何技术都可以通过学习来掌握，本次的课程偏向于基础，不仅非常实用，还非常简单易于学习。</p><!--more--><blockquote><p>本次的课程大纲如下：</p></blockquote><ul><li><p>预备知识</p><ul><li>电脑的组成部分</li><li>电脑各个部件的介绍</li><li>电脑故障的分类及常规的处理方法</li></ul></li><li><p>操作系统</p><ul><li>系统提速及优化，使电脑保持最佳工作状态</li><li>处理网络和浏览器故障，恢复电脑的网络畅通</li><li>远程控制，通过网络解决电脑问题</li></ul></li><li><p>PE系统维护教程</p><ul><li>制作PE启动优盘，打造维修人员的必备工具箱</li><li>进入PE的前提：使用启动菜单及BIOS设置</li><li>看电脑配置，评估电脑性能，了解电脑的工作潜力</li><li>电脑全面诊断，评估各设备的工作状态</li><li>系统开机密码破解，清除别人或自己忘记的开机密码</li><li>硬盘分区，新电脑正常使用的前提</li><li>重建主引导记录，解决电脑开机故障</li><li>系统重装，软故障的万能大杀器</li><li>系统的备份和还原，系统崩溃后快速恢复电脑工作状态</li><li>数据恢复，恢复误删除的文件</li></ul></li></ul><blockquote><ul><li><strong>掌握并精通以上技能，你几乎可以独当一面地解决计算机软件故障。</strong></li></ul></blockquote><h2>参考资料</h2><h3>预备知识</h3><p>电脑由五大部件组成，它们是：运算器，控制器，存储器，输入设备和输出设备。这么说是理论上的，可能有些抽象。具体点，我们换种说法，按照硬件来划分，便是，电脑可以由主板，CPU，内存，显卡，显示器，鼠标键盘等设备组成。一台电脑的性能也取决于这些部件了。<br>总结一下：<strong>CPU和内存决定了电脑的运行速度（也有硬盘的因素），显卡和显示器决定了电脑的图形显示精度，鼠标键盘决定了电脑使用的手感。</strong></p><p>按照分层思想，电脑故障我们可分为两类：软件故障和硬件故障，我们简称他们为：软故障和硬故障。<strong>硬故障需要大家自己动手拆装电脑，判断是到底哪个硬件出现问题，使用全新的硬件对有故障的硬件进行替换。在没有出现硬故障的情况下，软故障可通过重装系统的方式解决，这是耗时最久且最有效的方法。</strong></p><blockquote><p>电脑硬件故障的处理我们可以分为块级维修和板级维修。举个例子：如果你检测出CPU损坏，块级维修的方式是更换新的CPU；而板级维修的方式则是检测坏掉的CPU，确定是哪个电路出现问题。板级维修通常是硬件工程师做的事情，并需要大量的专业工具以及物理和逻辑电路知识。</p></blockquote><h3>操作系统</h3><p>所有软件最好是专职专用，纯绿色无需安装解压即用，无毒无捆绑，不常驻后台，术有专供的软件才是好软件。</p><p>xp系统的网络重置命令：</p><pre><code>NETSH INT IP reset resetlog.txt
IPCONFIG /FLUSHDNS
netsh winsock reset</code></pre><p>Win7,Win8,Win8.1,Win10系统的网络重置命令：</p><pre><code>NETSH INT IP RESET
NETSH WINHTTP RESET PROXY
IPCONFIG /FLUSHDNS
netsh winsock reset</code></pre><blockquote><p>系统优化软件推荐：国产的<a href="http://mofang.ruanmei.com/">魔方电脑大师</a>(记得下载完整绿色版)，和国外的<a href="http://www.piriform.com/ccleaner">CCleaner</a>  <br>远程控制软件推荐：<a href="https://www.teamviewer.com">Teamviwer</a>  <br>系统重装必备：<a href="https://www.itsk.com/">万能驱动助理</a>，<a href="https://www.itsk.com/">IT天空一键运行库【装软件玩游戏必备】</a></p></blockquote><h3>PE</h3><p>PE全称是：Windows Preinstallation Environment)，中文名叫Windows预安装环境.我们可以理解为<strong>最小化的Windows系统</strong>，因为其最小化的特点，PE的体积非常小，从而让我们能把它保存到优盘上面运行。通过向PE添加工具集，我们可以完成大多数的电脑维护工作，例如备份和重装系统，给电脑的存储空间分区，解除系统登陆密码等等。甚至，本次课程的大部分操作都需要用PE来完成才能达到最佳的效果。PE的制作与使用方法已经是电脑维修队每一位队员的必备技能，希望大家也能够掌握PE这个强大的维护工具。</p><blockquote><p>推荐使用IT天空的PE，支持UEFI启动，工具齐全，兼容性好。<br><a href="https://www.itsk.com/">U盘装机助理</a></p></blockquote><h3>BIOS</h3><p>BIOS是英文"Basic Input Output System"的缩略词，直译过来后中文名称就是"基本输入输出系统"。其实，它是一组固化到计算机内主板上一个只读芯片上的程序，它保存着计算机最重要的基本输入输出的程序、它和CMOS配合工作，为我们提供计算机硬件最底层的、最直接的硬件设置和控制。</p><h3>电脑的开机过程</h3><p>通电--&gt;BIOS读取硬件参数进行自检--&gt;BIOS找到硬盘将启动权交给硬盘里的引导程序--&gt;引导程序加载系统内核-&gt;系统启动成功<br><strong>任何一个环节出现问题，系统都将会无法启动。不过不要担心，屏幕上会有提示。如果屏幕不亮，警惕计算机硬件故障！</strong></p><h3>硬盘分区</h3><p>分区表类型有两种：MBR和GPT(GUID)。后者需要BIOS的UEFI功能支持，支持超过2TB的大硬盘，且分区的数量几乎没有限制。**GPT在最主要作用是识别超大容量硬盘，如2TB及以上，这种硬盘MBR模式无法完全识别其容量。GPT分区表的缺点在于：只有Win7之后推出的新系统才支持，并且不支持GHO镜像的安装方式，大部分32位操作系统不支持GPT。  <br>一般，我们采用MBR方式的分区表类型，这将会有如下好处：易于维护，支持各种系统备份还原软件，引导程序故障处理方便，通杀所有操作系统。**</p><blockquote><p>如果你想尝试使用GPT的方式安装系统：</p></blockquote><p><a href="https://www.itiankong.net/thread-345631-1-1.html">使用 Easy Image X在“UEFI+GPT”模式下装系统</a></p><h3>系统开机密码破解</h3><p>Windows系统账户密码数据库文件路径：%SystemRoot%system32configsam</p><blockquote><p>其实，所有针对系统密码的操作都是在操作这个sam文件。</p></blockquote><h3>系统数据备份和还原</h3><p>安装系统之前需要关注的文件夹：</p><pre><code>C:\Users\用户名</code></pre><p><a href="http://www.piriform.com/recuva">Recuva</a>  <br><a href="http://www.xiazaiba.com/html/164.html">OneKey一键还原8.1.1.930(支持固态硬盘和动态磁盘GPT分区)官方免费版</a></p>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/47/#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/47/" thr:count="0"/>
</entry>
<entry>
<title type="html"><![CDATA[木马哥的蜜罐教程]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/41/" />
<id>https://www.horsebro1.com/index.php/archives/41/</id>
<updated>2018-10-07T08:36:00+00:00</updated>
<published>2018-10-07T08:36:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[蜜罐好比是情报收集系统。蜜罐好像是故意让人攻击的目标，引诱黑客前来攻击。当攻击者尝试进行入侵，你就可以知道他的来源地址，但并不会对真实系统造成伤害。该项目是用Java编写的小型蜜罐系统，通过该教...]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/41/" xml:lang="zh-CN"><![CDATA[
<p>蜜罐好比是情报收集系统。蜜罐好像是故意让人攻击的目标，引诱黑客前来攻击。当攻击者尝试进行入侵，你就可以知道他的来源地址，但并不会对真实系统造成伤害。该项目是用Java编写的小型蜜罐系统，通过该教程你可以很方便地侦测和记录一些来自于网络上的攻击。<br> <br>接下来，我将搭建一台模拟运行：Web容器，Mysql数据库,代理服务，远程桌面服务的主机。<br> <br>其中，各项服务对应的端口号为：80,3306,8080,3389</p><!--more--><p>蜜罐的下载地址为：<a href="https://coding.net/u/hack4b/p/Mini-Honeypot/git/raw/master/Honeypot-bin.zip">https://coding.net/u/hack4b/p/Mini-Honeypot/git/raw/master/Honeypot-bin.zip</a></p><p>项目主页为：<a href="https://github.com/horsebro1/Mini-Honeypot">https://github.com/horsebro1/Mini-Honeypot</a></p><p>注意：蜜罐的运行环境依赖JVM。因此，你必须安装JRE，即Java的运行环境。JVM的下载地址为：<a href="http://www.java.com">http://www.java.com</a><br> <br>解压Honeypot-bin.zip，你将会得到conf.xml。该文件是蜜罐系统的配置文件，根据上述需求，我们修改配置文件如下：</p><pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;Honeypot-conf&gt;
    &lt;!-- 指定蜜罐系统开放的端口，多个端口用逗号(,)分隔。 --&gt;
    &lt;Honeypot-port&gt;80,8080,3306&lt;/Honeypot-port&gt;
    &lt;!-- 指定蜜罐系统的日志文件，支持绝对路径，Windows系统下文件分割符请使用：&quot;\\&quot; --&gt;
    &lt;Honeypot-log&gt;AttackLog.log&lt;/Honeypot-log&gt;
    &lt;!-- 指定蜜罐发送的消息 --&gt;
    &lt;Honeypot-message&gt;The connect reset.&lt;/Honeypot-message&gt;
&lt;/Honeypot-conf&gt;</code></pre><p>如果你需要指定日志文件名，请修改尖括号对的内容。下面的配置文件展示了将日志文件名重命名为15-10-12.log，直接指定文件名，该文件会保存在程序的运行目录下。如果你想保存到其他地方，请指定程序的绝对路径。注意：Windows系统的文件分割符需使用”\”，例如：”D:\logfile\logfile.log”</p><pre><code> &lt;Honeypot-log&gt;15-10-12.log&lt;/Honeypot-log&gt;</code></pre><p>在配置文件中，你可以指定蜜罐向攻击者发送的消息，下面的例子说明蜜罐向攻击者发送”Hello Man!”。当蜜罐开放的端口遭受到攻击，蜜罐将会发送该消息。如果留空，当蜜罐开放的端口遭受到攻击，蜜罐将会立即断开连接。</p><pre><code>&lt;Honeypot-message&gt;Hello Man!&lt;/Honeypot-message&gt;</code></pre><p>至此，配置文件配置好后，我们运行start.bat启动蜜罐(如果是Linux系统，请运行start.sh)。你将会得到如下窗口：<br><img src="https://www.horsebro1.com/usr/uploads/2018/10/3702211746.png" alt="miguan1.png" title="miguan1.png"></p><p>注意：如果该窗口出现闪退，你应当检查配置文件和当前端口的占用情况，以及更新你现有的Java版本。这通常是由于版本过低和端口冲突造成的。蜜罐始终会显示该窗口，直到你关闭蜜罐（关闭窗口）。有关错误的详细信息，你可以运行debug.bat文件。Linux系统请使用管道输出错误信息。<br> <br>接下来，我将启动KaliLinux并运行Nmap对蜜罐主机进行端口探测，探测的结果如下：<br><img src="https://www.horsebro1.com/usr/uploads/2018/10/63428329.png" alt="miguan2.png" title="miguan2.png"><br> <br>我们可以看到，Nmap成功探测到蜜罐主机所开放的端口。如果我们尝试访问端口，蜜罐将会拒绝访问：<br><img src="https://www.horsebro1.com/usr/uploads/2018/10/577298351.png" alt="miguan3.png" title="miguan3.png"></p><p>至此，我们来看看蜜罐的工作情况，蜜罐已经为我们记录下了攻击者的信息并写入了日志文件：<br><img src="https://www.horsebro1.com/usr/uploads/2018/10/24581171.png" alt="miguan4.png" title="miguan4.png"><br> <br>通常，某些访问请求的数据包是不携带主机名信息的。因此你只能看到远程主机的IP地址。<br> <br>以下是我设想的一些该蜜罐系统的使用场景：<br>1.你可以不用上线真实的业务系统，从而诱使攻击者暴露他的地址信息。<br>2.你可以配置蜜罐的返回消息逗攻击者玩，例如攻击者尝试攻击你的电脑，他会收到：“Stupid Man!”，不过在此之前你需要把这句话加入到配置文件。<br>3.你可以把蜜罐主机完全暴露给外网，以此来测量主机受攻击的频率。</p>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/41/#comments" thr:count="1" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/41/" thr:count="1"/>
</entry>
<entry>
<title type="html"><![CDATA[如何保障个人信息安全]]></title>
<link rel="alternate" type="text/html" href="https://www.horsebro1.com/index.php/archives/64/" />
<id>https://www.horsebro1.com/index.php/archives/64/</id>
<updated>2018-09-13T11:30:00+00:00</updated>
<published>2018-09-13T11:30:00+00:00</published>
<author>
    <name>骑木马的哥哥</name>
    <uri>http://www.horsebo1.com</uri>
</author>
<summary type="html"><![CDATA[几个基本安全概念管理重于技术总体而言，就是做好系统、信息和账户的分级管理和备份工作，即使技术能力比较低的人，也能通过管理手段，保障自己的信息安全。有限度的防护对安全的要求及所付出的成本是密切相关...]]></summary>
<content type="html" xml:base="https://www.horsebro1.com/index.php/archives/64/" xml:lang="zh-CN"><![CDATA[
<h3>几个基本安全概念</h3><h4>管理重于技术</h4><p>总体而言，就是做好系统、信息和账户的分级管理和备份工作，即使技术能力比较低的人，也能通过管理手段，保障自己的信息安全。</p><h4>有限度的防护</h4><p>对安全的要求及所付出的成本是密切相关的，甚至呈几何级数放大。要评估自己的信息重要程度如何，或是说，被窃取或公开后对事业对自己造成的损失如何，再决定自己投入的技术和资金。</p><!--more--><h4>鸡蛋不装到一个篮子里</h4><p>不要把所有的用户账号与同一个邮箱关联，不要把所有的密码记在一个文档里或放在一个地方。避免这个账号或记录密码的地方被入侵，会让所有的账号失控。</p><h4>避免雪崩效应</h4><p>如果一个邮箱丢失，别的邮箱或账号都以这个邮箱作备份，那丢一个就丢了其他的，也不要把所有的密码设成一样或同样的规律。</p><h4>按最坏的情况做准备</h4><p>经常问自己，如果电脑丢失、系统崩溃、硬盘崩溃或账号失控的情况出现，自己正在进行的工作会不会无法进行？自己的社交关系会不会无法恢复？信息安全管理，要以最坏的情况出现作预案。</p><h4>把自己当成透明，他们什么都知道</h4><p>不管什么人，不管做什么样的安全防护，除非不把秘密记录下来及完全不告诉任何人，否则都有泄密的可能。进行信息安全管理，是为行动争取时间，减少自己的恐惧与损失。</p><h3>安全的几个层面</h3><h4>系统的安全</h4><p>主要指的是自己使用的电脑的安全性，包括有无足够强度的登录密码，登录密码是否定期更换，有没有及时升级补丁修复漏洞，有没有安装杀毒和防火墙的软件等。当系统安全出现问题时，一则影响 工作效率，二则影响资料的安全，后果不仅仅是白辛苦，也会造成不可挽回原损失。</p><h4>账户的安全</h4><p>主要指包括邮箱社交平台等网络应用或服务的安全，一旦失控，轻则导致情况上的恐惧，重则导致资料的丢失，还有一项容易被忽略的，就是人际关系损失。想想看，大家如果主邮箱丢失，有多少人的联系方式就没有了？</p><h4>虚拟资产的安全</h4><p>针对虚拟财产是网络钓鱼及木马的主要目的，反而针对民运人士、媒体人及不同信仰人士往往是少数。大家都使用贝宝支付宝，虚拟资产的安全就变得很重要。</p><h4>人际网络的安全</h4><p>很多人把人际网络依赖于网上的某个社交应用，如脸书微博等，如果账号被封杀或失控，在此平台上建立的人际网络也会丢失。人际网络不安全，有往往是因沟通不畅引起，让有心之人搅混水有了可乘之机，他们往往是通过单方面提供不对称信息来达到目的的，如，私下告诉你某人如何如何。</p><h3>影响安全的几个因素</h3><h4>使用习惯及人为失误</h4><p>最大的影响因素来自于使用习惯及人为失误，例如，写东西时没有定时保存文档的习惯，脚一不小心踢到电脑的开关，一天的工作就不见了。误操作也会占很大的比例，例如把有资料备份的优盘给格式化了，把文档删了还顺手把回收站给清空了，操作完才发现弄错了。另外一个人为失误就是遗忘，设置或更改密码的时候觉得这个密码肯定不会忘记，但要用的时候却想不起来。</p><h4>不可抗力</h4><p>不可抗力包括很多因素，最常见的就是丢失电脑资料存储介质，国内的朋友还会碰到被查抄扣押电脑或存储介质的。在国内的服务账号被封杀也很常见，封杀之后，相关的资料就找不回来了。还有种不常见的情况是全部服务中止，例如Yahoo mail 在中国的服务停止了，没有及时备份资料下来，停止后资料就永久丢失了。</p><h4>病毒木马</h4><p>有时被病毒木马入侵，也可能导致资料的挂失，一是病毒本身的破坏，二是入侵者人为的操作。</p><h4>远程操作软件</h4><p>很多远程操作软件不会被杀毒软件报告为病毒，如果你的电脑被别人接触过，别人在里面安装远程监控软件，就可以实行全面的控制。</p><h3>账户的攻击方式</h3><h4>穷举</h4><p>也叫暴力拆解，就是用庞大的密码库对特定的账户进行逐一验证，从而找出弱口令的密码，如仅由几个数字或常见单词组成的密码。不过现在一般网络服务会在几次尝试后要求使用验证码，提高了攻击的难度。</p><h4>钓鱼</h4><p>这种方式最常见，便如，在一封Gmail中，说你的系统账号检测到异常，要求你再次输入账号密码验证，如果你在这里输入账号密码，账号密码就会被发送到一个服务器或邮箱存储起来，别人很可以获取。另外，也经常会有人假冒银行或购物网站，诱人上当。国内常见的就是在支付宝买东西，支付的时候给你另一个链接，钱支付到别的网站了。这很有效，我监测过有司的一个钓鱼后台，攻击对象有144个邮箱，获得到12个邮箱的密码，其中就包括了赵连海。无论如何，任何时候要求再输入密码，都要万分警惕。</p><h4>木马</h4><p>木马非常常见，主要寄身于一些非法软件下载网站的软件中，这一类木马，杀毒软件会有报告，不易得逞。针对特定人士的，现在主要通过邮箱附件的方式，主要有PPT和DOC等格式，有时针对特定对象还拟定特定文本的邮件，例如像是熟人或朋友所寄送。这类木马针对性较强，且杀毒软件有时候并不报警。这些木马通过系统的漏洞起作用，不下载附件只用线上服务浏览附件，经常升级安装补丁，安装杀毒软件，可以防御。</p><h4>远程控制</h4><p>一般是被熟悉的人或冒充熟悉的人接触你的电脑后安装，要避免这种情况的出现。有些国内的朋友有时突然发现上不去网，只好找来宽带的服务商解决问题，这时，有司就能假冒服务商的工作人员，接触到你的电脑，置入木马、远程控制软件，或直接扫瞄电脑的敏感资料。</p><h4>系统漏洞</h4><p>这种情况不大常见，但极难防备，例如Adobe Flash在去年就曾经出现漏洞，装有这个插件的浏览器，访问Gmail时会导致Gmail自动授权给特定账号，这个漏洞还是我发现的。出现这种情况，只能听天由命了。</p><h3>几个传说</h3><h4>电脑被入侵了，被控制了</h4><p>对于顶尖高手，入侵一台电脑也不是太容易的事情，就当局可以动员的技术力量而言，要入侵一台电脑并非易事，电脑一蓝屏就怀疑被入侵是不必要的恐慌。</p><h4>手机被监听了，被定位了</h4><p>基本上，国内的手机全部被录音，短信全部被过滤和记录，特定人士在特定事件时可能被实时监听。当局随时可以定位一部手机的位置，精度在数十米至数百米的误差之内。如果手机被监听，被监听方是不会感觉回声空洞之类的情况发生，但会有轻微的断点，人能觉察出来，其他与正常无异。</p><h4>身边都是线人</h4><p>这或许是真的，我们只凭公开的作为及表现来判断就可以了，台下的言行不应作为公开评判的依据。</p><h3>应对措施</h3><h4>一般安全指引</h4><p>不要让别人接触自己的电脑或移动终端<br>不在陌生的电脑上登陆重要账号<br>不打开未经确认的附件<br>重要文档及信息要多渠道确认<br>其他渠道约定密码<br>不点击邮件中陌生网站的链接<br>不安装未经确认来源的软件<br>使用加密链接的网站服务、产品及手机应用<br>不要开放手机通讯录及相册权限给不熟悉的应用程序<br>只换手机卡不能防追踪，要同时换手机<br>尽量不使用国内的服务<br>尽量不使用国内的服务或工具说敏感的事<br>不保存聊天记录<br>两步验证（Gmail、Dropbox、Facebook）<br>不直接接入公网</p><h4>账户及文档分级管理</h4><p>由高到低，按以下序列设置密码：本地系统&gt; 密码管理器&gt; 主要邮箱&gt; 网银应用&gt; 一般应用&gt; 国内服务。密码需要定期更换。</p><h4>资料及账号信息多重备份</h4><p>分不同介质，如光盘刻录、移动硬盘及优盘等；不同时空，备份的东西要放在不同的地方；线下线下，同时做互联网的云端备份和线下介质的备份。<br>分级分时备份，就是要把资料和信息按重要程序与否进行分级，越重要的备份时间周期越短，备份要求越高，例如线下线下多介质不同地点每隔一天备份一次；比较不重要的，可单一介质较长时间备份一次。自己进行分级分时的备份管理。</p><h4>及时安装系统补丁</h4><p>正版的操作系统，开启系统自动更新即可，自动更新间隔时间不要太长，一般应少于一周。非正版软件，可以考虑用QQ管家进行补丁更新，但这种软件也不大安全，甚至有副作用，可在每一次更新补丁后删除。</p><h4>防毒防木马</h4><p>一是优选是购买或安装没有（罕见）病毒木马的操作系统，如苹果的iOS系统，或是基于于linux的操作系统，如Ubuntu。二是安装杀毒软件防火墙，杀毒软件可以用Avast，免费注册可用一年，基本够用。三是不要直接接入公网，例如把网络服务商的电缆先接到一个路由，通过路由再接到自己的电脑里，可大大降低被攻击的可能。</p><h4>信息及人际网络的矩阵化</h4><p>不要把人际网络建立在单一的社交平台上，尽可能矩阵化，例如脸书与推特相结合，尽可能线上线下结合，万一某个平台失控，还可以保证人际关系的维持。</p><h4>我的 GMAIL 安全 吗？</h4><p>至少需要检查以下几项，确认自己的Gmail是否安全：<br>访问来源，有无异常来源？<br>转发设置，有无被转发至其他邮箱？<br>POP/IMAP设置，自己没有开启的情况下，是否被开启？<br>过滤设置，是否被设置了过滤条件并将部分邮件转发至其他邮箱？<br>授权设置，是否将账号授权给其他邮箱？</p><h3>紧急措施</h3><h4>丢失电脑</h4><p>更改所有在此电脑上使用过的账号密码，通知此电脑保存资料可能涉及到的特别是有可能造成损失的相关人士。</p><h4>丢失资料</h4><p>更改所有在此资料中涉及的账号密码，通知此资料可能涉及到的特别是有可能造成损失的相关人士。</p><h4>丢失账户</h4><p>更改与此账户关联的其他账户密码及信息，例如：用这个邮箱注册的所有服务的联系邮箱及密码；争取一切办法联系服务商取回账户，通知此账户联系人及保存资料可能涉及到的特别是有可能造成损失的相关人士。</p><h3>推荐一些工具及服务</h3><p>Gmail 及谷歌的系列产品<br>Telegram&gt;Skype（国际版，慎用TOM版）&gt;QQ<br>Whatsapp&gt;微信<br>Dropbox、BitTorrent Sync、Wuala（有穿墙能力的网盘）、Emule （电驴，<a href="http://www.emule-project.net">http://www.emule-project.net</a> ，穿墙下载或发布）<br>Firefox 或Chrome 浏览器<br>Recuva 或Final Data （恢复误删数据）<br>Ccleaner （安全删除）<br>Twitter 、Facebook、Google Plus</p><h3>国内朋友可参考的几个问答</h3><h4>做传唤笔录怎么办？</h4><p>拒绝口头传唤，只接受书面传唤；不做证人笔录，至少不在证人笔录上签名；做嫌疑人笔录开始时一定要让对方写清楚案由及写清楚有没有挨打挨骂；尽量少提供信息，不回答与案由无关的问题。</p><h4>被喝茶怎么办？</h4><p>自己的事不记得；别人的事不清楚；特定事件不了解没看法。</p><h4>他们问你密码怎么办？</h4><p>我刚告诉境外朋友把我密码改掉了，我现在还不知道新密码。</p><h3>一点建议</h3><p>至少掌握一种电脑系统恢复办法<br>国内的朋友掌握两种或以上的翻墙方式<br>每天花上几分钟留意最新的翻墙及安全信息</p>
]]></content>
<link rel="replies" type="text/html" href="https://www.horsebro1.com/index.php/archives/64/#comments" thr:count="0" />
<link rel="replies" type="application/atom+xml" href="https://www.horsebro1.com/index.php/feed/atom/archives/64/" thr:count="0"/>
</entry>
</feed>